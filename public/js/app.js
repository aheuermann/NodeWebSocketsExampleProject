// Generated by CoffeeScript 1.4.0
(function() {
  var characters, chart, data_display, socket;

  socket = io.connect('http://localhost:3000/');

  data_display = $("#data");

  characters = $("#characters");

  chart = new ChartView("#chart");

  socket.on('update', function(data) {
    var dataArr, k, v;
    data_display.html(JSON.stringify(data, null, 4));
    dataArr = [];
    for (k in data) {
      v = data[k];
      dataArr.push({
        letter: k,
        value: v
      });
    }
    return chart.update(dataArr);
  });

  $("#send").click(function() {
    socket.emit('save', {
      message: characters.val()
    });
    return characters.val('');
  });

  $("#toggleType").click(function() {
    return chart.toggleType();
  });

}).call(this);
